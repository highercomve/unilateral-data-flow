!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n||e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){(function(global){var rng,crypto=global.crypto||global.msCrypto;if(crypto&&crypto.getRandomValues){var _rnds8=new Uint8Array(16);rng=function(){return crypto.getRandomValues(_rnds8),_rnds8}}if(!rng){var _rnds=new Array(16);rng=function(){for(var r,i=0;i<16;i++)0==(3&i)&&(r=4294967296*Math.random()),_rnds[i]=r>>>((3&i)<<3)&255;return _rnds}}module.exports=rng}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(require,module,exports){function unparse(buf,offset){var i=offset||0,bth=_byteToHex;return bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+"-"+bth[buf[i++]]+bth[buf[i++]]+"-"+bth[buf[i++]]+bth[buf[i++]]+"-"+bth[buf[i++]]+bth[buf[i++]]+"-"+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]+bth[buf[i++]]}function v4(options,buf,offset){var i=buf&&offset||0;"string"==typeof options&&(buf="binary"==options?new Array(16):null,options=null);var rnds=(options=options||{}).random||(options.rng||_rng)();if(rnds[6]=15&rnds[6]|64,rnds[8]=63&rnds[8]|128,buf)for(var ii=0;ii<16;ii++)buf[i+ii]=rnds[ii];return buf||unparse(rnds)}for(var _rng=require("./rng"),_byteToHex=[],_hexToByte={},i=0;i<256;i++)_byteToHex[i]=(i+256).toString(16).substr(1),_hexToByte[_byteToHex[i]]=i;var _seedBytes=_rng(),_nodeId=[1|_seedBytes[0],_seedBytes[1],_seedBytes[2],_seedBytes[3],_seedBytes[4],_seedBytes[5]],_clockseq=16383&(_seedBytes[6]<<8|_seedBytes[7]),_lastMSecs=0,_lastNSecs=0,uuid=v4;uuid.v1=function(options,buf,offset){var i=buf&&offset||0,b=buf||[],clockseq=void 0!==(options=options||{}).clockseq?options.clockseq:_clockseq,msecs=void 0!==options.msecs?options.msecs:(new Date).getTime(),nsecs=void 0!==options.nsecs?options.nsecs:_lastNSecs+1,dt=msecs-_lastMSecs+(nsecs-_lastNSecs)/1e4;if(dt<0&&void 0===options.clockseq&&(clockseq=clockseq+1&16383),(dt<0||msecs>_lastMSecs)&&void 0===options.nsecs&&(nsecs=0),nsecs>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_lastMSecs=msecs,_lastNSecs=nsecs,_clockseq=clockseq;var tl=(1e4*(268435455&(msecs+=122192928e5))+nsecs)%4294967296;b[i++]=tl>>>24&255,b[i++]=tl>>>16&255,b[i++]=tl>>>8&255,b[i++]=255&tl;var tmh=msecs/4294967296*1e4&268435455;b[i++]=tmh>>>8&255,b[i++]=255&tmh,b[i++]=tmh>>>24&15|16,b[i++]=tmh>>>16&255,b[i++]=clockseq>>>8|128,b[i++]=255&clockseq;for(var node=options.node||_nodeId,n=0;n<6;n++)b[i+n]=node[n];return buf||unparse(b)},uuid.v4=v4,uuid.parse=function(s,buf,offset){var i=buf&&offset||0,ii=0;for(buf=buf||[],s.toLowerCase().replace(/[0-9a-f]{2}/g,function(oct){ii<16&&(buf[i+ii++]=_hexToByte[oct])});ii<16;)buf[i+ii++]=0;return buf},uuid.unparse=unparse,module.exports=uuid},{"./rng":1}],3:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function renderTareas(tareas,domElement){domElement.innerHTML="\n    <ul>\n      "+listaDeTareas(tareas)+"\n    </ul>\n  "}function listaDeTareas(tareas){return tareas.reduce(function(htmlAcumulado,tarea,tareas){return"\n      "+htmlAcumulado+'\n      <li id="'+tarea.id+'" class="'+(tarea.done?"ready":"not-ready")+'">\n        <span class="content">\n          '+tarea.text+'\n        </span>\n        <button class="todo-remove">\n          â˜’\n        </button>\n      </li>\n    '},"")}function renderCounter(count,domElement){domElement.innerHTML="\n    <h6>\n      Cantidad tareas: "+count+"\n    </h6>\n  "}var _state_manager2=_interopRequireDefault(require("./state_manager")),_task_reducer2=_interopRequireDefault(require("./task_reducer")),combinedReducer=_state_manager2.default.combineReducers({tareas:_task_reducer2.default}),store=_state_manager2.default.storeFactory(combinedReducer),app=document.getElementById("todo-list"),formTarea=document.getElementById("tarea"),counterDom=document.getElementById("counter");formTarea.addEventListener("submit",function(event){event.preventDefault(),store.dispatch({type:"TASK_ADD",payload:{text:event.target[0].value}}),event.target[0].value=""}),app.addEventListener("click",function(event){event.target&&"content"==event.target.className&&(event.preventDefault(),store.dispatch({type:"TASK_TOGGLE",payload:event.target.parentElement.id}))}),app.addEventListener("click",function(event){event.target&&"todo-remove"==event.target.className&&(event.preventDefault(),store.dispatch({type:"TASK_REMOVE",payload:event.target.parentElement.id}))}),store.subscribe(function(){renderTareas(store.getState().tareas,app)}),store.subscribe(function(){renderCounter(store.getState().tareas.length,counterDom)})},{"./state_manager":4,"./task_reducer":5}],4:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var StateManager={storeFactory:function(reducer){var state={},listeners=[];return{dispatch:function(action){state=reducer(action,state),listeners.forEach(function(listener){listener()})},getState:function(){return state},listen:listen}},combineReducers:function(reducers){return function(action,state){return Object.keys(reducers).reduce(function(CombineState,key){return CombineState[key]=reducers[key](action,state[key]),CombineState},{})}}};exports.default=StateManager},{}],5:[function(require,module,exports){"use strict";function addTask(state,newTask){return Object.assign(newTask,{id:_uuid2.default.v1(),done:!1}),[].concat(state,[newTask])}function removeTask(state,id){return state.filter(function(task){return task.id!==id})}function toggleTask(state,id){var index=state.findIndex(function(task){return task.id===id});return[].concat(state.slice(0,index),toggleStatus(state[index]),state.slice(index+1))}function toggleStatus(task){return Object.assign({},task,{done:!task.done})}Object.defineProperty(exports,"__esModule",{value:!0});var _uuid2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(require("uuid"));exports.default=function(action){var state=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch((action=action||{type:null}).type){case"TASK_ADD":return addTask(state,action.payload);case"TASK_REMOVE":return removeTask(state,action.payload);case"TASK_TOGGLE":return toggleTask(state,action.payload);default:return state}}},{uuid:2}]},{},[3]);
